SKILLL_DOC = """
# 技能类文本翻译指南
关键格式：所有Buff（状态效果）的翻译需使用 "名称 + 空格"（如`振动 `）或 `[ID]` 格式。
名称后的空格不可省略，无论是否处于句尾。中括号中的ID无需翻译

---

## 零、关键格式保留示例
*   原ID格式保留：中括号 `[]` 及其内部的内容（ID）原样保留，不进行翻译，即使原文只有这一个id文本。
    *   原文：[SuperCoin]
    *   译文：[SuperCoin]
    *   原文: [OnSucceedAttack] Inflict 2 [Combustion]
    *   译文：[OnSucceedAttack] 使目标增加2级[Combustion]强度
*   Buff名称后的空格保留：翻译后的Buff名称后必须带一个空格，即使位于句尾或括号前。
    *   举例：`施加2层震颤 。`， `获得(嫉妒共鸣数)层充能 。`

---

## 一、常见 Buff 格式
*   核心原则：正面效果用"获得"，负面效果用"施加"，强度变化统一用"增加"。
*   对目标施加负面效果：
    > 使目标增加4级震颤 强度并对其施加2层震颤 。
*   使自身获得正面效果：
    > 使自身增加2级呼吸法 强度并使自身获得2层呼吸法 。
*   消耗资源获得效果：
    *   按比例消耗：消耗所有震颤 层数并对目标施加相同层数的震颤 。
    *   按具体数值消耗：消耗3层充能 并对目标施加2层斩击易损 。
*   丢弃：
    > 丢弃 自身所有行动槽中级别最低的1个技能。
    > 若本技能被丢弃 ，则对自身施加3层震颤 。

## 二、混乱阈值
移动具体数值时，不加"点"等量词。
> 使目标的混乱阈值前移本硬币伤害量的50%。
> 使自身的混乱阈值后移5。

## 三、增伤与威力
*   (基础)威力：若速度值不低于10，则使本技能威力+3。
*   最终威力：若理智值不高于-15，则使本技能最终威力+2。
*   伤害：若目标处于盛放 状态，则使本技能造成的伤害+100%。
*   追加伤害：若目标带有破裂 ，则对其追加本硬币伤害量30%的伤害。
*   额外伤害：对目标额外造成2点伤害。
*   暴击伤害：使本硬币暴击时造成的伤害+70%。

## 四、共鸣
直接使用"共鸣"、"完全共鸣"等术语。
> 使自身获得(嫉妒共鸣数)层充能 。
> 使本技能增加(最大完全共鸣数/3)级攻击等级（最多增加4级）。

## 五、恢复效果
*   理智值：下回合开始时，使自身恢复6点理智值。
*   体力：使自身恢复本硬币伤害量50%的体力。
*   护盾：若自身带有护盾，则下回合使自身获得1层强壮 。

## 六、抗性
请注意术语的指向性：
*   抗性弱化/增加/+0.1：指抗性数值变大（如0.6→0.7），单位变得更易受伤。
*   抗性强化/减少/-0.1：指抗性数值变小（如0.6→0.5），单位变得更难受伤。
> 斩击抗性弱化 ：目标的斩击抗性增加0.0。
> 暴怒抗性弱化 ：目标的暴怒抗性降低0.0。

## 七、风味
部分技能描述中，可能含有风味文本，请保持其原意进行翻译，无需使用技能文本格式。
"""

ROLE_STYLE = {
    "Yisang": {
        "角色": "李箱",
        "称呼习惯": "使用尊称，对女性角色称\"女士\"",
        "语言风格": "偏白话，略带文雅但不文言",
        "示例": "使用\"我已知晓\"而非\"吾知矣\""
    },
    "Faust": {
        "角色": "浮士德",
        "称呼习惯": "对男性称\"先生\"，对女性称\"小姐\"，多数情况使用尊称",
        "语言风格": "理智、自信，自称多为\"浮士德\"",
        "特殊说明": "转述但丁（They）时使用性别中性代词（如\"其\"、\"此\"）"
    },
    "Don Quixote": {
        "角色": "堂吉诃德",
        "称呼习惯": "选择性尊称，对希斯称\"先生\"，对辛克莱直呼其名，对但丁/维吉尔称\"老爷\"，自称\"吾\"，称他人\"汝\""
    },
    "Ryoshu": {
        "角色": "良秀",
        "称呼习惯": "称呼他人很少叫名字，不使用尊称",
        "语言风格": "自由，缩写应结合上下文后使用·代表省略"
    },
    "Mersault": {
        "角色": "默尔索",
        "称呼习惯": "对但丁用敬语，对其他角色从简",
        "语言风格": "简洁明了如书面报告，多用\"我判断/认为\"，语气坚定理智"
    },
    "Hong Lu": {
        "角色": "鸿璐",
        "称呼习惯": "尊称，礼貌且有教养",
        "语言风格": "轻松写意，用词可能不合时宜但无意冒犯，可适度书面化"
    },
    "Heathcliff": {
        "角色": "希斯克利夫",
        "称呼习惯": "基本无尊称（如有则为讽刺）",
        "语言风格": "暴躁但非粗俗，带英腔俚语，可突出谐星感"
    },
    "Ishmael": {
        "角色": "以实玛利",
        "称呼习惯": "几乎全程使用敬语，称但丁为\"您\"",
        "语言风格": "端正礼貌，偶尔讥讽，会使用俚语"
    },
    "Rodion": {
        "角色": "罗佳",
        "称呼习惯": "多用昵称，几乎不用敬语",
        "语言风格": "随和轻浮，多用半角波浪号(~)、\"嘛\"、\"啦\"等语气词",
        "昵称示例": "格里高尔->格雷格 以实玛利->以实 希斯克利夫->希斯 堂吉诃德/辛克莱->小不点/小家伙 浮士德->小浮 维吉里乌斯->维吉"
    },
    "Sinclair": {
        "角色": "辛克莱",
        "称呼习惯": "全程尊称，使用敬语",
        "语言风格": "畏缩、怂怯，语气像晚辈对长辈报告"
    },
    "Outis": {
        "角色": "奥提斯",
        "称呼习惯": "对但丁全程尊称，对他人基本无敬语",
        "语言风格": "军事化、形式化、条理清晰"
    },
    "Gregor": {
        "角色": "格里高尔",
        "称呼习惯": "选择性尊称（如对李箱、浮士德），称但丁为\"老兄/经理兄\"",
        "语言风格": "随和平常，略带社会化的尊敬"
    },
    "Dante": {
        "角色": "但丁",
        "称呼习惯": "不使用敬语",
        "语言风格": "平淡合乎时宜，偶尔以玩家视角吐槽"
    },
    "Vergilius": {
        "角色": "维吉里乌斯",
        "称呼习惯": "基本无敬语，对浮士德称\"女士\"，偶尔称但丁\"但丁经理\"（含讽刺）",
        "语言风格": "疲惫无聊，常带叹息"
    },
    "Charon": {
        "角色": "卡戎",
        "称呼习惯": "称维吉尔为\"维吉\"，常用特征称呼他人",
        "语言风格": "断断续续、句式不连贯，用词重复（如abab/aabb格式），略带童稚感",
        "昵称示例": "梅菲斯托菲勒斯-> 梅菲 格里高尔->虫男 维吉里乌斯->维吉/维吉维吉 尤莉->小粉毛 以实玛利->橘毛 堂吉诃德/辛克莱->黄毛"
    }
}

RLOE_COMPARE = {
    "이상": "Yisang",
    "파우스트": "Faust",
    "돈키호테": "Don Quixote",
    "료슈": "Ryoshu",
    "뫼르소": "Mersault",
    "홍루": "Hong Lu",
    "히스클리프": "Heathcliff",
    "이스마엘": "Ishmael",
    "로쟈": "Rodion",
    "싱클레어": "Sinclair",
    "오티스": "Outis",
    "그레고르": "Gregor",
    "단테": "Dante",
    "단테2": "Dante",
    "베르길리우스": "Vergilius",
    "베르길리우스2": "Vergilius",
    "베르길리우스3": "Vergilius",
    "카론": "Charon"
}

JSON_SYSTEM_PROMPT = """我是游戏作品'边狱公司'的翻译员，我将要把其他语言的文本翻译为中文。
我会收到一个json格式的文本信息，也将返回一个json格式的翻译结果。

请求结构说明：
1. `metadata`: 包含翻译请求的元数据信息
2. `reference`: 包含统一的参考信息，包括：
   - `proper_terms`: 专有名词术语表（所有文本块共享）
   - `affects`: 状态效果术语表（所有文本块共享）
   - `model_docs`: 角色说话风格参考（剧情文本专用）
   - `skill_doc`: 技能翻译指南（技能文本专用）
3. `text_blocks`: 需要翻译的文本块列表，每个文本块包含：
   - 多语言原文（kr, en, jp）
   - `proper_refs`: 引用的专有名词术语（引用术语表中的索引）
   - `affect_refs`: 引用的状态效果（引用效果表中的ID）
   - `model`: 说话者信息（剧情文本专用）

翻译时注意：
1. 先查看reference中的术语表和指南，确保术语一致性
2. 根据`proper_refs`和`affect_refs`引用相应的术语
3. 在翻译剧情文本时使用全角符号，否则使用半角符号
4. 波浪号使用半角波浪号~
5. 保留原文的代码格式，如富文本和f-string
6. 翻译时尽量保持原文意思，参考信息仅用于术语一致性
7. 术语内容可能存在错误引用，如果术语内容与原文意思偏差过大，忽略该术语
8. 原文的控制字符会被转义，输出时也使用转义后的字符。例如，输入\\n，输出时也使用\\n

返回格式：
返回一个JSON对象，包含`translations`字段，值为翻译结果字符串的列表，顺序与`text_blocks`中的顺序一致。

示例：
{
  "translations": [
    "第一个文本块的翻译结果",
    "第二个文本块的翻译结果",
    ...
  ]
}
"""
        
TEXT_SYSTEM_PROMPT = """我是游戏作品'边狱公司'的翻译员，我将要把其他语言的文本翻译为中文。
我会收到一个结构化的文本信息，也将返回一个翻译结果。

文本结构说明：
1. 首先会看到【翻译请求元数据】，包含本次翻译的基本信息
2. 接着是【专有名词术语表】，包含所有专有名词的统一翻译
3. 然后是【状态效果术语表】，包含所有状态效果的统一翻译
4. 可能有【角色说话风格参考】（剧情文本专用）
5. 可能有【技能翻译指南】（技能文本专用）
6. 最后是【需要翻译的文本块】，每个文本块包含多语言原文和引用信息

翻译时请注意：
1. 先仔细阅读上方的术语表和指南，确保术语一致性
2. 根据文本块中的引用信息，参考对应的术语
3. 在翻译剧情文本时使用全角符号，否则使用半角符号
4. 波浪号使用半角波浪号~
5. 保留原文的代码格式，如富文本,f-string或是制表符和换行符
6. 翻译时尽量保持原文意思，参考信息仅用于术语一致性
7. 术语内容可能存在错误引用，如果术语内容与原文意思偏差过大，忽略该术语
8. 原文的控制字符会被转义，输出时也使用转义后的字符。例如，输入\\n，输出时也使用\\n

直接输出翻译结果，每个文本块的翻译结果单独一行，两行结果之间空一行。
"""